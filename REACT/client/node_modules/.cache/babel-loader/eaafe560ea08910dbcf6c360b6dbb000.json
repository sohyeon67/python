{"ast":null,"code":"import _defineProperty from\"C:/workspace_python/REACT/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/workspace_python/REACT/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/workspace_python/REACT/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState,useEffect}from'react';import'./App.css';import{CKEditor}from'@ckeditor/ckeditor5-react';import ClassicEditor from'@ckeditor/ckeditor5-build-classic';import ReactHtmlParser from'react-html-parser';import Axios from'axios';function App(){var _useState=useState({e_id:'',e_name:'',gen:'',addr:''}),_useState2=_slicedToArray(_useState,2),vo=_useState2[0],setEmp=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),list=_useState4[0],setList=_useState4[1];//useEffect(() => {\n//\tAxios.get('http://localhost:8000/api/get').then((response) => {\n//\t\tconsole.log(\"useEffect response\",response);\n//\t\tsetList(response.data);\n//\t})\n//\tconsole.log(\"useEffect\");\n//}, [list])\nvar insertEmp=function insertEmp(){var e_id=document.querySelector(\"input[name='e_id']\").value;var e_name=document.querySelector(\"input[name='e_name']\").value;var gen=document.querySelector(\"input[name='gen']\").value;var addr=document.querySelector(\"input[name='addr']\").value;Axios.post('http://localhost:8000/emp/insert',{e_id:e_id,e_name:e_name,gen:gen,addr:addr}).then(function(response){var cnt=response.data;if(cnt==1){refreshEmp();document.querySelector(\"input[name='e_id']\").value=\"\";document.querySelector(\"input[name='e_name']\").value=\"\";document.querySelector(\"input[name='gen']\").value=\"\";document.querySelector(\"input[name='addr']\").value=\"\";}});};var refreshEmp=function refreshEmp(){Axios.get('http://localhost:8000/emp/select_list').then(function(response){console.log(\"useEffect response\",response);setList(response.data);});};var updateEmp=function updateEmp(){console.log(\"updateEmp\");};var deleteEmp=function deleteEmp(){console.log(\"deleteEmp\");};var selectEmp=function selectEmp(e){var e_id=e.target.innerHTML;Axios.post('http://localhost:8000/emp/select_one',{e_id:e_id}).then(function(response){var vo=response.data;console.log(vo);document.querySelector(\"input[name='e_id']\").value=vo.e_id;document.querySelector(\"input[name='e_name']\").value=vo.e_name;document.querySelector(\"input[name='gen']\").value=vo.gen;document.querySelector(\"input[name='addr']\").value=vo.addr;});};var getValue=function getValue(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;console.log(name,value);console.log(\"before\",vo);setEmp(_objectSpread(_objectSpread({},vo),{},_defineProperty({},name,value)));console.log(\"after\",vo);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"table\",{border:\"1px\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC0AC\\uBC88\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC131\\uBCC4\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC8FC\\uC18C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:list.map(function(vo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{onClick:selectEmp,children:vo.e_id}),/*#__PURE__*/_jsx(\"td\",{children:vo.e_name}),/*#__PURE__*/_jsx(\"td\",{children:vo.gen}),/*#__PURE__*/_jsx(\"td\",{children:vo.addr})]},\"{vo.e_id}\");})})]}),/*#__PURE__*/_jsx(\"table\",{border:\"1px\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC0AC\\uBC88\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:getValue,name:\"e_id\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:getValue,name:\"e_name\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC131\\uBCC4\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:getValue,name:\"gen\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:getValue,name:\"addr\"})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uCD94\\uAC00\",onClick:insertEmp}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uC218\\uC815\",onClick:updateEmp}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uC0AD\\uC81C\",onClick:deleteEmp}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uAC31\\uC2E0\",onClick:refreshEmp})]})})]})})]});}export default App;","map":{"version":3,"sources":["C:/workspace_python/REACT/client/src/App.js"],"names":["useState","useEffect","CKEditor","ClassicEditor","ReactHtmlParser","Axios","App","e_id","e_name","gen","addr","vo","setEmp","list","setList","insertEmp","document","querySelector","value","post","then","response","cnt","data","refreshEmp","get","console","log","updateEmp","deleteEmp","selectEmp","e","target","innerHTML","getValue","name","map"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport './App.css';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport ReactHtmlParser from 'react-html-parser';\nimport Axios from 'axios';\n\nfunction App() {\n\tconst [vo, setEmp] = useState({\n\t\te_id: '',\n\t\te_name: '',\n\t\tgen: '',\n\t\taddr: ''\n\t})\n\n\tconst [list, setList] = useState([]);\n\n\t//useEffect(() => {\n\t//\tAxios.get('http://localhost:8000/api/get').then((response) => {\n\t//\t\tconsole.log(\"useEffect response\",response);\n\t//\t\tsetList(response.data);\n\t//\t})\n\t//\tconsole.log(\"useEffect\");\n\t//}, [list])\n\n\tconst insertEmp = () => {\n\t\tvar e_id = document.querySelector(\"input[name='e_id']\").value;\n\t\tvar e_name = document.querySelector(\"input[name='e_name']\").value;\n\t\tvar gen = document.querySelector(\"input[name='gen']\").value;\n\t\tvar addr = document.querySelector(\"input[name='addr']\").value;\n\t\t\n\t\tAxios.post('http://localhost:8000/emp/insert', {\n\t\t\te_id: e_id,\n\t\t\te_name: e_name,\n\t\t\tgen: gen,\n\t\t\taddr: addr,\n\t\t}).then((response) => {\n\t\t\tvar cnt = response.data;\n\t\t\tif(cnt == 1) {\n\t\t\t\trefreshEmp();\n\t\t\t\tdocument.querySelector(\"input[name='e_id']\").value = \"\";\n\t\t\t\tdocument.querySelector(\"input[name='e_name']\").value = \"\";\n\t\t\t\tdocument.querySelector(\"input[name='gen']\").value = \"\";\n\t\t\t\tdocument.querySelector(\"input[name='addr']\").value = \"\";\n\t\t\t}\n\t\t})\n\t};\n\t\n\tconst refreshEmp = () => {\n\t\tAxios.get('http://localhost:8000/emp/select_list').then((response) => {\n\t\t\tconsole.log(\"useEffect response\",response);\n\t\t\tsetList(response.data);\n\t\t})\n\n\t};\n\t\n\tconst updateEmp = () => {\n\t\tconsole.log(\"updateEmp\");\n\t};\n\tconst deleteEmp = () => {\n\t\tconsole.log(\"deleteEmp\");\n\t};\n\tconst selectEmp = e => {\n\t\tvar e_id = e.target.innerHTML;\n\t\t\n\t\tAxios.post('http://localhost:8000/emp/select_one', {\n\t\t\te_id: e_id,\n\t\t}).then((response) => {\n\t\t\tvar vo = response.data;\n\t\t\tconsole.log(vo);\n\t\t\tdocument.querySelector(\"input[name='e_id']\").value = vo.e_id;\n\t\t\tdocument.querySelector(\"input[name='e_name']\").value = vo.e_name;\n\t\t\tdocument.querySelector(\"input[name='gen']\").value = vo.gen;\n\t\t\tdocument.querySelector(\"input[name='addr']\").value = vo.addr;\n\t\t})\n\t};\n\t\n\tconst getValue = e => {\n\t\tconst { name, value } = e.target;\n\t\tconsole.log(name,value);\n\t\tconsole.log(\"before\", vo);\n\t\tsetEmp({\n\t\t\t...vo,\n\t\t\t[name]: value\n\t\t})\n\t\tconsole.log(\"after\", vo);\n\t};\n\t\n\t\n\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<table border=\"1px\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>사번</td>\n\t\t\t\t\t\t<td>이름</td>\n\t\t\t\t\t\t<td>성별</td>\n\t\t\t\t\t\t<td>주소</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\n\t\t\t\t<tbody>\n\t\t\t\t{list.map(vo =>\n\t\t\t\t\t<tr key=\"{vo.e_id}\">\n\t\t\t\t\t\t<td onClick={selectEmp}>{vo.e_id}</td>\n\t\t\t\t\t\t<td>{vo.e_name}</td>\n\t\t\t\t\t\t<td>{vo.gen}</td>\n\t\t\t\t\t\t<td>{vo.addr}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t\n\t\t\t\n\t\t\t<table border=\"1px\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>사번</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type='text' onChange={getValue} name='e_id' />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>이름</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type='text' onChange={getValue} name='e_name' />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>성별</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type='text' onChange={getValue} name='gen' />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>주소</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type='text' onChange={getValue} name='addr' />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colSpan=\"2\">\n\t\t\t\t\t\t\t<input type=\"button\" value=\"추가\" onClick={insertEmp} />\n\t\t\t\t\t\t\t<input type=\"button\" value=\"수정\" onClick={updateEmp} />\n\t\t\t\t\t\t\t<input type=\"button\" value=\"삭제\" onClick={deleteEmp} />\n\t\t\t\t\t\t\t<input type=\"button\" value=\"갱신\" onClick={refreshEmp} />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}